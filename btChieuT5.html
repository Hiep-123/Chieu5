<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <title>Quản lý Product</title>
</head>

<body>
    <h2>Mở F12 → Console để xem kết quả chi tiết</h2>
    <div id="output"></div>
    <script>
        //Cau 1
        function Product(id, name, price, quantity, category, isAvailable) {
            this.id = id,
                this.name = name,
                this.price = price,
                this.quantity = quantity,
                this.category = category,
                this.isAvailable = isAvailable
        }
        // Cau 2
        const products = [
            new Product(1, "iPhone 15", 25000000, 10, "Phone", true),
            new Product(2, "Samsung S24", 22000000, 0, "Phone", true),
            new Product(3, "AirPods Pro", 6000000, 15, "Accessories", true),
            new Product(4, "Chuột Logitech", 500000, 30, "Accessories", true),
            new Product(5, "MacBook Pro", 40000000, 5, "Laptop", false),
            new Product(6, "Bàn phím cơ", 1500000, 0, "Accessories", true),
        ]
        console.log("Cau 2 - Danh sach san pham: ", products)

        //Cau 3
        const namePriceList = products.map(item => ({
            name: item.name,
            price: item.price
        }))
        console.log("Cau 3 - Danh sach san pham chi chua name & price: ", namePriceList)

        //Cau 4
        const isStock = products.filter(item => item.quantity > 0
        )
        console.log("Cau 4 - San pham con hang trong kho:", isStock)

        //Cau 5
        const haveExpensive = products.some(item => ({
            price: item.price > 30000000
        }))
        console.log("Cau 5 - Co it nhat 1 san pham tren 30 tr: ", haveExpensive)

        //Cau 6
        const allAccessoriesAvailable = products
            .filter(item => item.category === 'Accessories')
            .every(item => item.isAvailable === true)
        console.log("Cau 6 - Tat ca san pham thuoc danh muc Accessories dang dc ban: ", allAccessoriesAvailable)

        //Cau 7
        const totalPriceProduct = products.reduce((arr, item) => arr + item.price * item.quantity, 0)
        console.log("Cau 7 - Tong gia tri kho hang: ", totalPriceProduct)

        //Cau 8
        for (const p of products) {
            console.log(`Cau 8 - Ten san pham: ${p.name} - Danh muc: ${p.category} - Trang thai: ${p.isAvailable}`)
        }

        //Cau 9
        for (const product of products) {
            console.log(`\n=== ${product.name} (ID: ${product.id}) ===`);
            for (let key in product) {
                if (product.hasOwnProperty(key)) {
                    console.log(`cau 9 - ${key}: ${product[key]}`)
                }
            }
        }

        //Cau 10
        const sellingAndInStockNames = products
            .filter(p => p.isAvailable && p.quantity > 0)
            .map(p => p.name);

        console.log("cau 10 - SP dang ban va con ban:", sellingAndInStockNames);
        
        function joinWithSeparator(arr, separator = ", ") {
            return arr.reduce((acc, item) => acc + separator + item, "").slice(separator.length);
        }

        console.log(joinWithSeparator(["a", "b", "c"]));          // "a, b, c"
        console.log(joinWithSeparator(["x", "y", "z"], " | "));   // "x | y | z"
        console.log(joinWithSeparator([1, 2, 3], "-"));           // "1-2-3"
    </script>
</body>

</html>
